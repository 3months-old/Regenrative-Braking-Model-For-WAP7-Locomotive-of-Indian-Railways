# Regenrative-Braking-Model-For-WAP7-Locomotive-of-Indian-Railways
A new mathematical model to estimate the regenerative braking efficiency of Indian locomotives, which are already installed with the 'regenerative braking system,' is discussed here. It is demonstrated for a WAP-7/WAG-9 locomotive that runs on Indian tracks. Velocity-step method for determining the driving cycle The velocity step method uses the distance and time spans given in table 1 as input. The acceleration is determined by the user defined parameters like maximum power capacity of the locomotive. The deacceleration is taken as a constant value to reduce complex calculations, it is set to a value satisfying all the safety and comfort parameters. The time is gradually increased in a step like manner to obtain the change in velocity ∆𝑉. Then final velocity, distance travelled, and time spent are updated as shown in equations (1), (2) & (3).

𝑉𝑖+1 = 𝑉𝑖 + ∆𝑉 (1)
𝑡𝑖+1 = 𝑡𝑖 + ∆𝑡 (2)
𝑋𝑖+1 = 𝑋𝑖 + (𝑉𝑖 + 0.5∆𝑉)∆𝑡 (3)

Here 𝑉𝑖 ,𝑡𝑖,𝑋𝑖 are the velocity, time and distance at the current step respectively, while 𝑉𝑖+1 𝑡𝑖+1, 𝑋𝑖+1 are associated with the next steps. Since time is increased in constant step the value of acceleration is needed to be determined for every next step. Following are the parameters on which the acceleration is determined.
1. Maximum allowed acceleration (𝑎̂): The acceleration (a) must be less than the maximum allowed acceleration on the particular section.
2. The acceleration is dependent on the traction effort which is limited by the power capacity of the motor.
3. Safety and comfort parameters are also kept in mind. Rate of change of acceleration or jolt must be restricted for the safety and comfort of the passengers. 

After increasing time by a definite step, power consumption on the current velocity is determined by multiplying the constant traction force, and then compared to the maximum power limit. The minimum of both powers is selected, and the corresponding force is taken as the final tractive effort. After obtaining tractive force acceleration is obtained and is made sure to be in the limits. The velocity for the next step is determined, the time spent & distance travelled during this step is updated.
Parallelly the braking distance along with the braking time for the updated velocity is computed. Subtracting the sum of time travelled and the braking time from the total journey time we obtain the time travelled at constant speed. On obtaining the value of constant speed journey time we also get the distance travelled at a constant speed. The sum of all the three distances (travelled, braking and at constant speed) is compared with the journey distance. If the sum of distances is equal to or more than journey distance than further acceleration is not required, else further acceleration is needed.
